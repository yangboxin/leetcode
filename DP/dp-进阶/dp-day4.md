### lc-1259

**偶数** 个人站成一个圆，总人数为 `num_people` 。每个人与除自己外的一个人握手，所以总共会有 `num_people / 2` 次握手。

将握手的人之间连线，请你返回连线不会相交的握手方案数。

由于结果可能会很大，请你返回答案 **模** **`10^9+7`** 后的结果。



##### 动态规划

将每个人视为一个顶点，两人握手视为两个顶点之间有一条边， 定义一次握手是有效的，当且仅当这次握手对于的边将所有顶点划分成两部分，每一部分都含有偶数个顶点。 只有这样，才能保证每一部分的顶点互相之间可以形成有效握手。

如何得到某个人可以进行的有效握手方案？（设该人为P） 由于总人数为偶数，所以P跟它相邻的人P+1握手后，剩下的人数仍为偶数，可以进行有效握手； 为了保证P跟另一个人将圆划分成都含偶数个顶点的两部分，所以P还可以和(P+1)+2握手，((P+1)+2)+2握手...

并且，在计算时，应该自底向上的进行，才能保证每一个更小的状态已经被计算过



```c++
class Solution{
public:
    long mod=1e9+7;
	int numberOfWays(int numPeople){
		unordered_map<int,long> dp;
		dp[0]=1;
		for(int j=2;j<=numPeople;j++){
			long tmp=0;
			for(int i=2;i<=j;i++){
				tmp=(tmp+dp[i-2]*dp[j-i]) % mod;
			}
			dp[j]=tmp;
		}
		return dp[numPeople];
	}
};
```

